{"version":3,"file":"useWalletSubmit.js","sourceRoot":"","sources":["../../src/hooks/useWalletSubmit.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAC1D,OAAO,EAAE,aAAa,EAAE,MAAM,gBAAgB,CAAC;AAE/C,MAAM,CAAC,MAAM,eAAe,GAAG,GAAG,EAAE;IAClC,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,EAAW,CAAC;IAC9C,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,GAAG,QAAQ,EAAU,CAAC;IAC/C,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC,GAAG,QAAQ,CAAU,KAAK,CAAC,CAAC;IAE7D,MAAM,EAAE,kBAAkB,EAAE,uBAAuB,EAAE,GACnD,UAAU,CAAC,aAAa,CAAC,CAAC;IAE5B,MAAM,QAAQ,GAAG,WAAW,CAAC,KAAK,EAAE,QAAgB,EAAE,EAAE;QACtD,aAAa,CAAC,IAAI,CAAC,CAAC;QAEpB,IAAI;YACF,IAAI,kBAAkB,EAAE;gBACtB,MAAM,MAAM,GAAG,MAAM,uBAAuB,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;gBAChE,QAAQ,CAAC,SAAS,CAAC,CAAC;gBACpB,SAAS,CAAC,MAAM,CAAC,CAAC;aACnB;YAED,MAAM,IAAI,KAAK,CACb,qEAAqE,CACtE,CAAC;SACH;QAAC,OAAO,KAAK,EAAE;YACd,QAAQ,CAAC,KAAK,CAAC,CAAC;YAChB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SACtB;QAED,aAAa,CAAC,KAAK,CAAC,CAAC;IACvB,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,OAAO;QACL,KAAK,EAAE,MAAM;QACb,UAAU;QACV,QAAQ;KACT,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { useCallback, useContext, useState } from 'react';\nimport { WalletContext } from '@mesh/contexts';\n\nexport const useWalletSubmit = () => {\n  const [error, setError] = useState<unknown>();\n  const [result, setResult] = useState<string>();\n  const [submitting, setSubmitting] = useState<boolean>(false);\n\n  const { hasConnectedWallet, connectedWalletInstance } =\n    useContext(WalletContext);\n\n  const submitTx = useCallback(async (signedTx: string) => {\n    setSubmitting(true);\n\n    try {\n      if (hasConnectedWallet) {\n        const txHash = await connectedWalletInstance.submitTx(signedTx);\n        setError(undefined);\n        setResult(txHash);\n      }\n\n      throw new Error(\n        'Please make sure to connect a wallet before calling useWalletSubmit'\n      );\n    } catch (error) {\n      setError(error);\n      console.error(error);\n    }\n\n    setSubmitting(false);\n  }, []);\n\n  return {\n    error, result,\n    submitting,\n    submitTx,\n  };\n};\n"]}